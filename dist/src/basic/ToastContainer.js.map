{"version":3,"sources":["../../../src/basic/ToastContainer.js"],"names":["ToastContainer","props","state","modalVisible","fadeAnim","Value","position","opacity","width","elevation","paddingHorizontal","OS","top","getTop","undefined","bottom","config","setState","text","buttonText","type","supportedOrientations","style","buttonTextStyle","buttonStyle","textStyle","onClose","duration","setTimeout","timing","toValue","start","getToastStyle","closeToast","toastInstance","_root","showToast","propTypes","oneOfType","object","number","array","StyledToastContainer"],"mappings":"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","file":"ToastContainer.js","sourcesContent":["import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { Platform, Animated } from \"react-native\";\nimport { connectStyle } from \"native-base-shoutem-theme\";\nimport { ViewPropTypes } from '../Utils';\nimport { Text } from \"./Text\";\nimport { Button } from \"./Button\";\nimport { Toast } from \"./Toast\";\nimport mapPropsToStyleNames from \"../Utils/mapPropsToStyleNames\";\n\n\nclass ToastContainer extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      modalVisible: false,\n      fadeAnim: new Animated.Value(0),\n    };\n  }\n  static toastInstance;\n  static show({ ...config }) {\n    this.toastInstance._root.showToast({ config });\n  }\n  getToastStyle() {\n    return {\n      position: \"absolute\",\n      opacity: this.state.fadeAnim,\n      width: \"100%\",\n      elevation: 9,\n      paddingHorizontal: Platform.OS === \"ios\" ? 20 : 0,\n      top: this.state.position === \"top\" ? this.getTop() : undefined,\n      bottom: this.state.position === \"bottom\" ? this.getTop() : undefined,\n    };\n  }\n  getTop() {\n    if (Platform.OS === \"ios\") {\n      return 30;\n    } else {\n      return 0;\n    }\n  }\n  showToast({ config }) {\n    this.setState({\n      modalVisible: true,\n      text: config.text,\n      buttonText: config.buttonText,\n      type: config.type,\n      position: config.position ? config.position : \"bottom\",\n      supportedOrientations: config.supportedOrientations,\n      style: config.style,\n      buttonTextStyle: config.buttonTextStyle,\n      buttonStyle: config.buttonStyle,\n      textStyle: config.textStyle,\n      onClose: config.onClose\n    });\n    if (config.duration > 0) {\n      setTimeout(() => {\n        Animated.timing(this.state.fadeAnim, {\n          toValue: 0,\n          duration: 200,\n        }).start();\n        setTimeout(() => {\n          this.setState({\n            modalVisible: false,\n          });\n        }, 500);\n      }, config.duration);\n    }\n    Animated.timing(this.state.fadeAnim, {\n      toValue: 1,\n      duration: 200,\n    }).start();\n  }\n  closeToast() {\n    const { onClose } = this.state;\n\n    if (onClose && typeof onClose === \"function\") {\n      onClose();\n    }\n\n    Animated.timing(this.state.fadeAnim, {\n      toValue: 0,\n      duration: 200,\n    }).start();\n    setTimeout(() => {\n      this.setState({\n        modalVisible: false,\n      });\n    }, 500);\n  }\n  render() {\n    if (this.state.modalVisible) {\n      return (\n        <Animated.View style={this.getToastStyle()}>\n          <Toast\n            style={this.state.style}\n            danger={this.state.type === \"danger\"}\n            success={this.state.type === \"success\"}\n            warning={this.state.type === \"warning\"}\n          >\n            <Text style={this.state.textStyle}>\n              {this.state.text}\n            </Text>\n            {this.state.buttonText &&\n            <Button style={this.state.buttonStyle} onPress={() => this.closeToast()}>\n              <Text style={this.state.buttonTextStyle}>\n                {this.state.buttonText}\n              </Text>\n            </Button>}\n          </Toast>\n        </Animated.View>\n      );\n    } else return null;\n  }\n}\n\nToastContainer.propTypes = {\n  ...ViewPropTypes,\n  style: PropTypes.oneOfType([PropTypes.object, PropTypes.number, PropTypes.array]),\n};\n\nconst StyledToastContainer = connectStyle(\"NativeBase.ToastContainer\", {}, mapPropsToStyleNames)(ToastContainer);\n\nexport { StyledToastContainer as ToastContainer };\n\n"]}